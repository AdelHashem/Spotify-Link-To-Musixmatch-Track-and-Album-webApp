<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-9CGEX232D0"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-9CGEX232D0');
  </script>
    <title>Musixmatch Source</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="{{ url_for('static', filename='styles.css') }}"
    />
    <link rel="icon" type="image/x-icon" href="/static/assets/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta content="Spotify To Mxm" property="og:title" />
    <meta
      content="Musixmatch abstrack"
      property="og:description"
    />
    <meta content="#ff6050" data-react-helmet="true" name="theme-color" />
  </head>
  <body>
    <div id="offline-div" spellcheck="true" style="display: none">
      <h3
        style="
          font-size: 50px;
          margin: 0;
          padding: 0;
          color: #ff5900;
          text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        "
      >
        No Internet Connection
      </h3>
      <p
        style="
          font-size: 30px;
          margin: 0;
          padding: 0;
          color: #ff0000;
          text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        "
      >
        Make sure you're connected to the internet.
      </p>
    </div>

    <!-- Navigation Bar -->
    <nav class="navbar">
        <ul>
          <li><a href="/">Home Page</a></li>
          <li><a href="/spotify">Spotify Data</a></li>
          <li><a href="/mxm">MXM Source</a></li>
          <li><a href="/abstrack">MXM Abstrack</a></li>
          <li><a href="/split">Split Checker</a></li>
          <li><a href="/api">Set API</a></li>
        </ul>
      </nav>


    <div class="container">
        <h1>Musixmatch Abstrack</h1>
        <form action="/" method="GET">
          <label for="input_link">Musixmatch abstrack:</label>
          <input type="text" id="input_link" name="link" placeholder="Enter the abstrack here" />
          <button type="submit" id="process_button">Get links</button>
          <div class="loading" id="loading"></div>
        </form>
        <div class="output" id="output">
        {% if error %}
        <div class="row">
            <div class="col-sm-6 col-md-4 col-lg-3">
              <div class="card">
                <div class="card-details">
                  <p class="card-text">error: {{ error }}</p>
                </div>
              </div>
            </div>
          </div>
        {% else %}
          {% if album %}
          <div class="row">
            <div class="col-sm-6 col-md-4 col-lg-3">
              <div class="card">
                <div class="card-details">
                  <h5 class="card-title">Track Info:</h5>
                  <p class="card-text">
                    <strong>Track Name:</strong> {{ track.track_name }}</p>
                <p class="card-text">
                    <strong>Album Name:</strong> {{ track.album_name }}</p>
                <p class="card-text">
                    <strong>Artist Name:</strong> {{ track.artist_name }}</p>
                <p class="card-text">
                    <strong>Explicit:</strong> {{ track.explicit }}</p>
                <p class="card-text">
                    <strong>Has Lyrics:</strong> {{ track.has_lyrics }}</p>
                <p class="card-text">
                    <strong>Has Subtitles:</strong> {{ track.has_subtitles }}
                  </p>
                  <p class="card-text">
                    <strong>Link:</strong>
                    <a href="{{ track.track_share_url.split('?')[0] }}" class="card-link" target="_blank">Musixmatch</a>
                  </p>
  
                  <h5 class="card-title">Album Info:</h5>
                  <p class="card-text">
                    <strong>Album:</strong>
                    <a href="https://www.musixmatch.com/album/{{ album.artist_id }}/{{ album.album_id }}" class="card-link" target="_blank">{{ album.album_name }}</a>
                  </p>
                  <p class="card-text">
                    <strong>Album ID:</strong> {{ album.album_id }}
                  </p>
  
                  {% if album.external_ids.spotify %}
                  <p class="card-text"><strong>Spotify source:</strong></p>
                  <div class="list">
                    <ul>
                      {% for id in album.external_ids.spotify %}
                      <li>
                        <a href="https://open.spotify.com/album/{{ id }}" class="card-link" target="_blank">{{ id }}</a> (<a href="https://sp-markets.pages.dev/album/{{ id }}" class="card-link" target="_blank">Check Market Availability</a>)
                      </li>
                      {% endfor %}
                    </ul>
                  </div>
                  {% else %}
                  <p class="card-text"><strong>Spotify source:</strong> No Connected Source</p>
                  {% endif %}
  
                  {% if album.external_ids.itunes %}
                  <p class="card-text"><strong>Apple Music source:</strong></p>
                  <div class="list">
                    <ul>
                      {% for id in album.external_ids.itunes %}
                      <li>
                        <a href="https://music.apple.com/album/{{ id }}" class="card-link" target="_blank">{{ id }}</a>
                      </li>
                      {% endfor %}
                    </ul>
                  </div>
                  {% else %}
                  <p class="card-text"><strong>Apple Music source:</strong> No Connected Source</p>
                  {% endif %}
  
                  {% if album.external_ids.amazon_music %}
                  <p class="card-text"><strong>Amazon Music source:</strong></p>
                  <div class="list">
                    <ul>
                      {% for id in album.external_ids.amazon_music %}
                      <li>
                        <a href="https://music.amazon.com/albums/{{ id }}" class="card-link" target="_blank">{{ id }}</a>
                      </li>
                      {% endfor %}
                    </ul>
                  </div>
                  {% else %}
                  <p class="card-text"><strong>Amazon Music source:</strong> No Connected Source</p>
                  {% endif %}
                </div>
              </div>
            </div>
          </div>
          {% endif %}
          {% if error %}
          <div class="row">
            <div class="col-sm-6 col-md-4 col-lg-3">
              <div class="card">
                <div class="card-details">
                  <p class="card-text">Error: {{ error }}</p>
                </div>
              </div>
            </div>
          </div>
          {% endif %}
          {% endif %}
        </div>

      <footer>
        <script
          defer
          src="https://spotify-to-mxm.vercel.app/_vercel/insights/script.js"
        ></script>
        <div class="github_link">
          <a
            href="https://github.com/Ad

elHashem/Spotify-Link-To-Musixmatch-Track-and-Album-webApp"
            target="_blank"
          >
            <img
              src="https://raw.githubusercontent.com/simple-icons/simple-icons/develop/icons/github.svg"
              alt="GitHub Repo Link"
              style="width: 50px"
            />
          </a>
        </div>
        <div>Coded with ❤️ for music</div>
      </footer>
     
      <script src="{{ url_for('static', filename='script.js') }}"></script>
    </div>
    <!-- The Modal -->
    <div id="countries-modal" class="modal">
        <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h2>Countries</h2>
        <ul id="countries-list"></ul>
        </div>
    </div>
  </body>
</html>
